#!/bin/bash

# Define services to check
services=("named" "vsftpd" "apache2" "nginx" "slapd" "krb5kdc" "xrdp" "smbd" "ssh")

# Check each service and restart if necessary
for service in "${services[@]}"; do
    if systemctl is-active --quiet "$service"; then
        echo "[âœ“] $service is running"
    else
        echo "[!] $service is DOWN. Restarting..."
        sudo systemctl restart "$service"
    fi
done

# Verify network connections
echo "Checking network connections..."
sudo netstat -tulnp | grep LISTEN
